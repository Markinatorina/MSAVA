<Page
    x:Class="MSAVA_App.Presentation.FileManagement.FileManagementPage"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="using:MSAVA_App.Presentation.FileManagement"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:models="using:MSAVA_Shared.Models"
    mc:Ignorable="d"
    Background="{ThemeResource ApplicationPageBackgroundThemeBrush}">

    <Page.Resources>
        <converters:BooleanToVisibilityConverter x:Key="BooleanToVisibilityConverter"
                                                 xmlns:converters="using:MSAVA_App.Presentation.Converters" />
    </Page.Resources>

    <Grid Padding="16" RowDefinitions="Auto,*">
        <TextBlock Text="Loading, please wait..."
                   Visibility="{Binding IsLoading, Converter={StaticResource BooleanToVisibilityConverter}}" />

        <Grid Grid.Row="1" Visibility="{Binding IsLoaded, Converter={StaticResource BooleanToVisibilityConverter}}">
            <ScrollViewer>
                <Grid>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition/>
                    </Grid.RowDefinitions>

                    <!-- Header Row -->
                    <Grid ColumnDefinitions="*,*,*,*,*,*,*,*,*,*,*,*,*,*,*,*">
                        <TextBlock Text="DataId" FontWeight="SemiBold"/>
                        <TextBlock Text="RefId" Grid.Column="1" FontWeight="SemiBold"/>
                        <TextBlock Text="FilePath" Grid.Column="2" FontWeight="SemiBold"/>
                        <TextBlock Text="Name" Grid.Column="3" FontWeight="SemiBold"/>
                        <TextBlock Text="Description" Grid.Column="4" FontWeight="SemiBold"/>
                        <TextBlock Text="MimeType" Grid.Column="5" FontWeight="SemiBold"/>
                        <TextBlock Text="FileExtension" Grid.Column="6" FontWeight="SemiBold"/>
                        <TextBlock Text="Tags" Grid.Column="7" FontWeight="SemiBold"/>
                        <TextBlock Text="Categories" Grid.Column="8" FontWeight="SemiBold"/>
                        <TextBlock Text="SizeInBytes" Grid.Column="9" FontWeight="SemiBold"/>
                        <TextBlock Text="Checksum" Grid.Column="10" FontWeight="SemiBold"/>
                        <TextBlock Text="PublicViewing" Grid.Column="11" FontWeight="SemiBold"/>
                        <TextBlock Text="DownloadCount" Grid.Column="12" FontWeight="SemiBold"/>
                        <TextBlock Text="SavedAt" Grid.Column="13" FontWeight="SemiBold"/>
                        <TextBlock Text="LastModifiedAt" Grid.Column="14" FontWeight="SemiBold"/>
                        <TextBlock Text="OwnerId" Grid.Column="15" FontWeight="SemiBold"/>
                    </Grid>

                    <!-- Rows -->
                    <ItemsControl Grid.Row="1" ItemsSource="{Binding Files}">
                        <ItemsControl.ItemTemplate>
                            <DataTemplate>
                                <Grid ColumnDefinitions="*,*,*,*,*,*,*,*,*,*,*,*,*,*,*,*" Padding="0,8">
                                    <TextBlock Text="{Binding DataId}"/>
                                    <TextBlock Text="{Binding RefId}" Grid.Column="1"/>
                                    <TextBlock Text="{Binding FilePath}" Grid.Column="2"/>
                                    <TextBlock Text="{Binding Name}" Grid.Column="3"/>
                                    <TextBlock Text="{Binding Description}" Grid.Column="4"/>
                                    <TextBlock Text="{Binding MimeType}" Grid.Column="5"/>
                                    <TextBlock Text="{Binding FileExtension}" Grid.Column="6"/>
                                    <TextBlock Text="{Binding Tags.Length, TargetNullValue=0}" Grid.Column="7"/>
                                    <TextBlock Text="{Binding Categories.Length, TargetNullValue=0}" Grid.Column="8"/>
                                    <TextBlock Text="{Binding SizeInBytes}" Grid.Column="9"/>
                                    <TextBlock Text="{Binding Checksum}" Grid.Column="10"/>
                                    <TextBlock Text="{Binding PublicViewing}" Grid.Column="11"/>
                                    <TextBlock Text="{Binding DownloadCount}" Grid.Column="12"/>
                                    <TextBlock Text="{Binding SavedAt}" Grid.Column="13"/>
                                    <TextBlock Text="{Binding LastModifiedAt}" Grid.Column="14"/>
                                    <TextBlock Text="{Binding OwnerId}" Grid.Column="15"/>
                                </Grid>
                            </DataTemplate>
                        </ItemsControl.ItemTemplate>
                    </ItemsControl>
                </Grid>
            </ScrollViewer>
        </Grid>
    </Grid>
</Page>
